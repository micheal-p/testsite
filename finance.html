<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>National Energy Finance & Capital | NEIIA</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        /* Modern Finance Dashboard Styles */
        :root {
            --primary-green: #0e3f45;
            --primary-green-light: #1a5a62;
            --accent-orange: #FF6B35;
            --accent-coral: #ff8f6b;
            --bg-dark: #0e3f45;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-dark: #0B1F24;
            --text-light: #ffffff;
            --text-gray: #6b7280;
            --border-color: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            overflow-x: hidden;
            width: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
        }

        /* Dashboard Header */
        .dashboard-header {
            background: rgba(0, 0, 0, 0.2);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .logo-link {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-link img {
            height: 40px;
            filter: brightness(0) invert(1);
        }

        .page-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-light);
        }

        .page-subtitle {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
        }

        .nav-links {
            display: flex;
            gap: 8px;
        }

        .nav-link {
            padding: 8px 16px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .nav-link:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-link.active {
            color: #fff;
            background: rgba(255, 255, 255, 0.15);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            font-size: 14px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .header-btn.primary {
            background: var(--accent-orange);
            border-color: var(--accent-orange);
        }

        .header-btn.primary:hover {
            background: var(--accent-coral);
        }

        /* Hamburger Menu */
        .menu-toggle {
            display: none;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--text-light);
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -280px;
            width: 280px;
            height: 100vh;
            background: var(--primary-green);
            z-index: 1000;
            padding: 24px;
            transition: right 0.3s ease;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
            visibility: hidden;
        }

        .mobile-menu.open {
            right: 0;
            visibility: visible;
        }

        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            pointer-events: none;
        }

        .mobile-menu-overlay.open {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .mobile-menu-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .mobile-menu-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-light);
        }

        .mobile-menu-close {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            color: var(--text-light);
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .mobile-menu-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .mobile-menu-link:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .mobile-menu-link i {
            width: 20px;
            text-align: center;
        }

        .mobile-menu-link.active {
            background: rgba(255, 255, 255, 0.25);
        }

        /* Dashboard Layout */
        .dashboard-container {
            display: grid;
            grid-template-columns: 300px 1fr 320px;
            gap: 20px;
            padding: 20px;
            max-width: 1600px;
            margin: 0 auto;
            width: 100%;
        }

        /* Card Styles */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            color: var(--text-dark);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 10px;
            margin-bottom: 20px;
            text-align: left;
        }

        .card-dot {
            width: 10px;
            height: 10px;
            background: var(--primary-green);
            border-radius: 50%;
        }

        .card-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-dark);
        }

        /* Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Account Card */
        .account-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 20px;
            color: var(--text-light);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .account-header {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .account-badge {
            width: 44px;
            height: 44px;
            background: var(--accent-orange);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
        }

        .account-label {
            font-size: 16px;
            font-weight: 600;
        }

        .account-members {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 2px;
        }

        /* Gauge Container */
        .gauge-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 0;
        }

        .gauge {
            position: relative;
            width: 160px;
            height: 160px;
        }

        .gauge-svg {
            transform: rotate(-90deg);
        }

        .gauge-bg {
            fill: none;
            stroke: #e5e7eb;
            stroke-width: 14;
        }

        .gauge-progress {
            fill: none;
            stroke: url(#gaugeGradient);
            stroke-width: 14;
            stroke-linecap: round;
        }

        .gauge-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .gauge-number {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-green);
        }

        .gauge-label {
            font-size: 12px;
            color: var(--text-gray);
        }

        /* Category Stats */
        .category-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }

        .category-stat {
            text-align: center;
            padding: 12px 8px;
            background: #f9fafb;
            border-radius: 12px;
        }

        .category-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            font-size: 14px;
        }

        .category-icon.investment {
            background: #fef3c7;
            color: #d97706;
        }

        .category-icon.loan {
            background: #dbeafe;
            color: #2563eb;
        }

        .category-icon.grant {
            background: #d1fae5;
            color: #059669;
        }

        .category-name {
            font-size: 11px;
            color: var(--text-gray);
            margin-bottom: 4px;
        }

        .category-value {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-dark);
        }

        /* Billing Table */
        .billing-table {
            width: 100%;
            border-collapse: collapse;
        }

        .billing-table th,
        .billing-table td {
            padding: 12px 8px;
            text-align: left;
            font-size: 13px;
        }

        .billing-table th {
            color: var(--text-gray);
            font-weight: 500;
            border-bottom: 1px solid #e5e7eb;
        }

        .billing-table td {
            color: var(--text-dark);
            border-bottom: 1px solid #f3f4f6;
        }

        /* Mini Bar Chart */
        .mini-chart-container {
            background: #f8f9fc;
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
        }

        .mini-chart-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-green);
        }

        .mini-chart-label {
            font-size: 12px;
            color: var(--text-gray);
            margin-bottom: 12px;
        }

        .mini-bar-chart {
            display: flex;
            align-items: flex-end;
            gap: 4px;
            height: 60px;
        }

        .mini-bar {
            flex: 1;
            background: var(--primary-green);
            border-radius: 3px 3px 0 0;
            min-height: 8px;
        }

        .mini-bar.highlight {
            background: var(--accent-orange);
        }

        .mini-chart-legend {
            display: flex;
            gap: 16px;
            margin-top: 12px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--text-gray);
        }

        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 2px;
        }

        .legend-dot.primary {
            background: var(--primary-green);
        }

        .legend-dot.secondary {
            background: var(--accent-orange);
        }

        /* Main Panel */
        .main-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-width: 0;
        }

        /* Breakdown Card */
        .breakdown-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
        }

        .breakdown-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .time-filters {
            display: flex;
            background: #f3f4f6;
            border-radius: 8px;
            padding: 3px;
        }

        .time-filter {
            padding: 8px 14px;
            border: none;
            background: none;
            font-size: 12px;
            color: var(--text-gray);
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
            font-weight: 500;
        }

        .time-filter.active {
            background: var(--primary-green);
            color: #fff;
        }

        .time-filter:hover:not(.active) {
            background: #e5e7eb;
        }

        .breakdown-content {
            display: grid;
            grid-template-columns: 260px 1fr;
            gap: 24px;
        }

        .total-number {
            font-size: 40px;
            font-weight: 700;
            color: var(--primary-green);
        }

        .total-label {
            font-size: 13px;
            color: var(--text-gray);
            margin: 8px 0 20px;
        }

        /* Breakdown Bars */
        .breakdown-bar {
            margin-bottom: 14px;
        }

        .breakdown-bar-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .breakdown-bar-indicator {
            width: 4px;
            height: 14px;
            border-radius: 2px;
        }

        .breakdown-bar-indicator.investment {
            background: var(--accent-orange);
        }

        .breakdown-bar-indicator.loan {
            background: var(--primary-green);
        }

        .breakdown-bar-indicator.grant {
            background: #6366f1;
        }

        .breakdown-bar-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .breakdown-bar-track {
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 6px;
        }

        .breakdown-bar-fill {
            height: 100%;
            border-radius: 4px;
        }

        .breakdown-bar-fill.investment {
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-coral));
        }

        .breakdown-bar-fill.loan {
            background: linear-gradient(90deg, var(--primary-green), var(--primary-green-light));
        }

        .breakdown-bar-fill.grant {
            background: linear-gradient(90deg, #6366f1, #818cf8);
        }

        .breakdown-bar-values {
            display: flex;
            gap: 8px;
            font-size: 12px;
        }

        .breakdown-bar-percent {
            font-weight: 600;
            color: var(--text-dark);
        }

        .breakdown-bar-amount {
            color: var(--text-gray);
        }

        /* Chart */
        .chart-container {
            min-width: 0;
        }

        .chart-canvas-container {
            height: 220px;
        }

        .chart-legend-bottom {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
            flex-wrap: wrap;
        }

        .chart-legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chart-legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .chart-legend-text {
            font-size: 12px;
        }

        .chart-legend-label {
            color: var(--text-dark);
            font-weight: 600;
        }

        .chart-legend-value {
            color: var(--text-gray);
        }

        /* Investment Table */
        .investment-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            font-size: 12px;
            color: var(--text-dark);
            background: #fff;
        }

        .table-wrapper {
            overflow-x: auto;
            margin: 0 -20px;
            padding: 0 20px;
            -webkit-overflow-scrolling: touch;
        }

        .table-wrapper::-webkit-scrollbar {
            height: 6px;
        }

        .table-wrapper::-webkit-scrollbar-track {
            background: #f3f4f6;
            border-radius: 3px;
        }

        .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--primary-green);
            border-radius: 3px;
        }

        .table-scroll-hint {
            display: none;
            text-align: center;
            padding: 8px;
            background: #fef3c7;
            border-radius: 8px;
            margin-bottom: 12px;
            font-size: 12px;
            color: #92400e;
        }

        .investment-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
            table-layout: fixed;
        }

        .investment-table th,
        .investment-table td {
            padding: 12px 12px;
            text-align: left;
            font-size: 12px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Column widths */
        .investment-table th:nth-child(1),
        .investment-table td:nth-child(1) {
            width: 22%;
        }

        /* Program */
        .investment-table th:nth-child(2),
        .investment-table td:nth-child(2) {
            width: 14%;
        }

        /* Source */
        .investment-table th:nth-child(3),
        .investment-table td:nth-child(3) {
            width: 12%;
        }

        /* Investment */
        .investment-table th:nth-child(4),
        .investment-table td:nth-child(4) {
            width: 12%;
        }

        /* Disbursed */
        .investment-table th:nth-child(5),
        .investment-table td:nth-child(5) {
            width: 12%;
        }

        /* Progress */
        .investment-table th:nth-child(6),
        .investment-table td:nth-child(6) {
            width: 10%;
        }

        /* ROI */
        .investment-table th:nth-child(7),
        .investment-table td:nth-child(7) {
            width: 10%;
        }

        /* Status */
        .investment-table th:nth-child(8),
        .investment-table td:nth-child(8) {
            width: 8%;
        }

        /* Action */

        .investment-table th {
            color: var(--text-gray);
            font-weight: 600;
            border-bottom: 2px solid #e5e7eb;
            background: #fafafa;
            text-transform: uppercase;
            font-size: 11px;
            letter-spacing: 0.5px;
        }

        .investment-table td {
            color: var(--text-dark);
            border-bottom: 1px solid #f3f4f6;
        }

        .investment-table tr:hover td {
            background: #f9fafb;
        }

        .program-name-cell {
            font-weight: 600;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-badge.active {
            background: #dcfce7;
            color: #16a34a;
        }

        .status-badge.completed {
            background: #dbeafe;
            color: #2563eb;
        }

        .status-badge.planned {
            background: #fef3c7;
            color: #d97706;
        }

        .progress-bar {
            width: 80px;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-green);
            border-radius: 3px;
        }

        .roi-value {
            font-weight: 600;
        }

        .roi-value.positive {
            color: #16a34a;
        }

        .action-btn {
            padding: 6px 12px;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            background: #fff;
            color: var(--text-dark);
            font-size: 11px;
            cursor: pointer;
        }

        .action-btn:hover {
            background: var(--primary-green);
            color: #fff;
            border-color: var(--primary-green);
        }

        /* Right Panel */
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Performing Table */
        .performing-table {
            width: 100%;
            border-collapse: collapse;
        }

        .performing-table th,
        .performing-table td {
            padding: 10px 6px;
            text-align: left;
            font-size: 12px;
        }

        .performing-table th {
            color: var(--text-gray);
            font-weight: 500;
            border-bottom: 1px solid #e5e7eb;
        }

        .performing-table td {
            color: var(--text-dark);
            border-bottom: 1px solid #f9fafb;
        }

        .program-name {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .program-icon {
            width: 24px;
            height: 24px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .program-icon.solar {
            background: #fee2e2;
            color: #dc2626;
        }

        .program-icon.wind {
            background: #dbeafe;
            color: #2563eb;
        }

        .program-icon.hydro {
            background: #fef3c7;
            color: #d97706;
        }

        .program-icon.nuclear {
            background: #f3e8ff;
            color: #7c3aed;
        }

        .program-icon.other {
            background: #f3f4f6;
            color: #6b7280;
        }

        /* ROI Card */
        .roi-metric {
            text-align: center;
            padding: 16px 0;
        }

        .roi-value-large {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary-green);
            line-height: 1;
        }

        .roi-period {
            font-size: 13px;
            color: var(--text-gray);
            margin-top: 8px;
        }

        .roi-chart {
            height: 100px;
        }

        .roi-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 12px;
        }

        .roi-legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--text-gray);
        }

        .roi-legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 2px;
        }

        .roi-legend-dot.active {
            background: var(--accent-orange);
        }

        .roi-legend-dot.completed {
            background: var(--primary-green);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .dashboard-container {
                grid-template-columns: 1fr;
                padding: 16px;
            }

            .breakdown-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }

            .nav-links,
            .header-right .header-btn {
                display: none;
            }

            .dashboard-header {
                padding: 12px 16px;
            }

            .header-left {
                flex: 1;
            }

            .page-title {
                font-size: 14px;
            }

            .page-subtitle {
                font-size: 10px;
            }

            .card {
                text-align: left;
            }

            .card-header {
                justify-content: flex-start !important;
                text-align: left;
            }

            .card-title {
                text-align: left;
            }

            .time-filters {
                width: 100%;
                justify-content: center;
            }

            .time-filter {
                padding: 6px 10px;
                font-size: 11px;
            }

            .category-stats {
                grid-template-columns: repeat(3, 1fr);
            }

            .gauge {
                width: 140px;
                height: 140px;
            }

            .gauge-number {
                font-size: 28px;
            }

            .total-number {
                font-size: 32px;
            }

            .table-scroll-hint {
                display: block;
            }

            .investment-table {
                min-width: 600px;
            }

            .investment-table th,
            .investment-table td {
                padding: 10px 8px;
                font-size: 11px;
            }

            .progress-bar {
                width: 60px;
            }

            .action-btn {
                padding: 5px 10px;
                font-size: 10px;
            }

            .card {
                padding: 16px;
            }

            .card-title {
                font-size: 14px;
            }
        }

        /* Print Styles for PDF Export */
        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
            }

            @page {
                size: A4 landscape;
                margin: 15mm;
            }

            html,
            body {
                width: 100% !important;
                height: auto !important;
                overflow: visible !important;
                background: #fff !important;
                font-size: 10pt !important;
            }

            /* Hide non-printable elements */
            .dashboard-header,
            .menu-toggle,
            .mobile-menu,
            .mobile-menu-overlay,
            .header-btn,
            .time-filters,
            .filter-select,
            .action-btn,
            .table-scroll-hint {
                display: none !important;
            }

            /* Print Header */
            body::before {
                content: "National Energy Finance & Capital - Financial Report";
                display: block;
                text-align: center;
                font-size: 18pt;
                font-weight: bold;
                color: #0e3f45;
                padding: 10mm 0;
                border-bottom: 2px solid #0e3f45;
                margin-bottom: 10mm;
            }

            /* Reset layout for print */
            .dashboard-container {
                display: block !important;
                padding: 0 !important;
                max-width: 100% !important;
                width: 100% !important;
            }

            .sidebar,
            .main-panel,
            .right-panel {
                width: 100% !important;
                display: block !important;
                margin-bottom: 8mm !important;
            }

            /* Cards on print */
            .card {
                background: #fff !important;
                border: 1px solid #ddd !important;
                border-radius: 4mm !important;
                padding: 5mm !important;
                margin-bottom: 5mm !important;
                page-break-inside: avoid;
                box-shadow: none !important;
            }

            .card-header {
                margin-bottom: 4mm !important;
            }

            .card-title {
                font-size: 12pt !important;
                color: #0e3f45 !important;
            }

            .card-dot {
                background: #0e3f45 !important;
            }

            /* Account Card */
            .account-card {
                background: #0e3f45 !important;
                color: #fff !important;
                padding: 5mm !important;
            }

            /* Gauge - simplify for print */
            .gauge-container {
                padding: 3mm 0 !important;
            }

            .gauge {
                width: 40mm !important;
                height: 40mm !important;
            }

            .gauge-number {
                font-size: 18pt !important;
            }

            /* Category stats in row */
            .category-stats {
                display: flex !important;
                justify-content: space-around !important;
                gap: 5mm !important;
            }

            .category-stat {
                flex: 1 !important;
                padding: 3mm !important;
            }

            .category-value {
                font-size: 12pt !important;
            }

            /* Breakdown content */
            .breakdown-content {
                display: flex !important;
                gap: 10mm !important;
            }

            .breakdown-stats {
                flex: 1 !important;
            }

            .chart-container {
                flex: 2 !important;
            }

            .total-number {
                font-size: 24pt !important;
                color: #0e3f45 !important;
            }

            /* Table printing */
            .table-wrapper {
                overflow: visible !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            .investment-table {
                width: 100% !important;
                min-width: 0 !important;
                font-size: 9pt !important;
                border-collapse: collapse !important;
            }

            .investment-table th,
            .investment-table td {
                padding: 2mm 3mm !important;
                border: 0.5pt solid #ccc !important;
                white-space: normal !important;
                overflow: visible !important;
                text-overflow: clip !important;
            }

            .investment-table th {
                background: #f5f5f5 !important;
                font-weight: bold !important;
                color: #333 !important;
            }

            .investment-table td:last-child {
                display: none !important;
                /* Hide action column */
            }

            .investment-table th:last-child {
                display: none !important;
            }

            /* Status badges */
            .status-badge {
                padding: 1mm 2mm !important;
                font-size: 8pt !important;
                border-radius: 1mm !important;
            }

            .status-badge.active {
                background: #d4edda !important;
                color: #155724 !important;
            }

            .status-badge.completed {
                background: #cce5ff !important;
                color: #004085 !important;
            }

            .status-badge.planned {
                background: #fff3cd !important;
                color: #856404 !important;
            }

            /* Progress bar */
            .progress-bar {
                width: 15mm !important;
                height: 2mm !important;
                background: #e9ecef !important;
                border: 0.5pt solid #ccc !important;
            }

            .progress-fill {
                background: #0e3f45 !important;
            }

            /* ROI value */
            .roi-value.positive {
                color: #28a745 !important;
            }

            /* Performing table */
            .performing-table {
                font-size: 9pt !important;
            }

            .performing-table th,
            .performing-table td {
                padding: 2mm !important;
                border-bottom: 0.5pt solid #ddd !important;
            }

            .program-icon {
                width: 5mm !important;
                height: 5mm !important;
                font-size: 7pt !important;
            }

            /* ROI overview */
            .roi-value-large {
                font-size: 20pt !important;
                color: #0e3f45 !important;
            }

            /* Charts - hide canvas, show data */
            .chart-canvas-container,
            .roi-chart {
                display: none !important;
            }

            /* Billing table */
            .billing-table {
                font-size: 9pt !important;
            }

            .billing-table th,
            .billing-table td {
                padding: 2mm !important;
            }

            .mini-chart-container {
                padding: 3mm !important;
            }

            .mini-chart-value {
                font-size: 16pt !important;
                color: #0e3f45 !important;
            }

            .mini-bar-chart {
                display: none !important;
            }

            /* Page breaks */
            .main-panel .card:nth-child(2) {
                page-break-before: always;
            }

            /* Footer */
            body::after {
                content: "Generated on " attr(data-print-date) " • NEIIA Finance Dashboard";
                display: block;
                text-align: center;
                font-size: 8pt;
                color: #666;
                padding-top: 5mm;
                margin-top: 10mm;
                border-top: 1pt solid #ddd;
            }
        }
    </style>

</head>

<body>
    <!-- Dashboard Header -->
    <header class="dashboard-header">
        <div class="header-left">
            <a href="index.html" class="logo-link">
                <img src="assets/images/neiis-logo-green.png" alt="NEIIA">
            </a>
            <nav class="nav-links">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="finance.html" class="nav-link active">Finance</a>
                <a href="databank.html" class="nav-link">Databank</a>
                <a href="investor-management.html" class="nav-link">Investors</a>
            </nav>
        </div>
        <div class="header-right">
            <a href="index.html" class="header-btn">
                <i class="fas fa-arrow-left"></i>
                Back to Home
            </a>
            <button class="header-btn primary" onclick="window.print()">
                <i class="fas fa-download"></i>
                Export Report
            </button>
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="menuOverlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <span class="mobile-menu-title">Menu</span>
            <button class="mobile-menu-close" id="menuClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-links">
            <a href="dashboard.html" class="mobile-menu-link">
                <i class="fas fa-chart-pie"></i>
                Dashboard
            </a>
            <a href="finance.html" class="mobile-menu-link active">
                <i class="fas fa-coins"></i>
                Finance
            </a>
            <a href="databank.html" class="mobile-menu-link">
                <i class="fas fa-database"></i>
                Databank
            </a>
            <a href="investor-management.html" class="mobile-menu-link">
                <i class="fas fa-users"></i>
                Investors
            </a>
            <button class="mobile-menu-link" onclick="window.print(); closeMobileMenu();"
                style="width: 100%; border: none; text-align: left; background: #FF6B35; color: #fff; cursor: pointer;">
                <i class="fas fa-download"></i>
                Export Report
            </button>
            <a href="index.html" class="mobile-menu-link">
                <i class="fas fa-home"></i>
                Back to Home
            </a>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <!-- Account Card -->
            <div class="account-card">
                <div class="account-header">
                    <div class="account-badge">NE</div>
                    <div>
                        <div class="account-label">National Energy</div>
                        <div class="account-members">47 Active Programs</div>
                    </div>
                </div>
            </div>

            <!-- Budget Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-dot"></div>
                    <h3 class="card-title">Budget Execution</h3>
                </div>

                <div class="gauge-container">
                    <div class="gauge">
                        <svg class="gauge-svg" viewBox="0 0 160 160" width="160" height="160">
                            <defs>
                                <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#FF6B35" />
                                    <stop offset="50%" style="stop-color:#d97706" />
                                    <stop offset="100%" style="stop-color:#0e3f45" />
                                </linearGradient>
                            </defs>
                            <circle class="gauge-bg" cx="80" cy="80" r="70"></circle>
                            <circle class="gauge-progress" cx="80" cy="80" r="70" stroke-dasharray="440"
                                stroke-dashoffset="91.52"></circle>
                        </svg>
                        <div class="gauge-value">
                            <div class="gauge-number">79.2%</div>
                            <div class="gauge-label">Execution Rate</div>
                        </div>
                    </div>
                </div>

                <div class="category-stats">
                    <div class="category-stat">
                        <div class="category-icon investment">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="category-name">Investment</div>
                        <div class="category-value">$2.1B</div>
                    </div>
                    <div class="category-stat">
                        <div class="category-icon loan">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="category-name">Loan</div>
                        <div class="category-value">$1.2B</div>
                    </div>
                    <div class="category-stat">
                        <div class="category-icon grant">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="category-name">Grant</div>
                        <div class="category-value">$1.5B</div>
                    </div>
                </div>
            </div>

            <!-- Billing Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-dot"></div>
                    <h3 class="card-title">Billing & Transactions</h3>
                </div>

                <table class="billing-table">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Rate</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Received</td>
                            <td>94.6%</td>
                            <td>$3.59B</td>
                        </tr>
                        <tr>
                            <td>Disbursed</td>
                            <td>5.1%</td>
                            <td>$194M</td>
                        </tr>
                        <tr>
                            <td>Pending</td>
                            <td>0.3%</td>
                            <td>$11M</td>
                        </tr>
                    </tbody>
                </table>

                <div class="mini-chart-container">
                    <div class="mini-chart-value">$3.8B</div>
                    <div class="mini-chart-label">Total Mobilized (+22.5% YoY)</div>
                    <div class="mini-bar-chart">
                        <div class="mini-bar" style="height: 55%"></div>
                        <div class="mini-bar" style="height: 70%"></div>
                        <div class="mini-bar highlight" style="height: 85%"></div>
                        <div class="mini-bar" style="height: 60%"></div>
                        <div class="mini-bar" style="height: 75%"></div>
                        <div class="mini-bar highlight" style="height: 95%"></div>
                        <div class="mini-bar" style="height: 65%"></div>
                        <div class="mini-bar" style="height: 80%"></div>
                    </div>
                    <div class="mini-chart-legend">
                        <div class="legend-item">
                            <span class="legend-dot primary"></span>
                            Disbursed
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot secondary"></span>
                            Pending
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Panel -->
        <main class="main-panel">
            <!-- Breakdown Card -->
            <div class="card">
                <div class="breakdown-header">
                    <div class="breakdown-title">
                        <div class="card-dot"></div>
                        <h3 class="card-title">Target Funds Breakdown</h3>
                    </div>
                    <div class="time-filters">
                        <button class="time-filter" data-period="daily">Daily</button>
                        <button class="time-filter" data-period="weekly">Weekly</button>
                        <button class="time-filter active" data-period="monthly">Monthly</button>
                        <button class="time-filter" data-period="annually">Annually</button>
                    </div>
                </div>

                <div class="breakdown-content">
                    <div class="breakdown-stats">
                        <div class="total-number" id="totalBudget">$4.8B</div>
                        <div class="total-label" id="totalLabel">Total Annual Budget • +15.2% YoY</div>

                        <div class="breakdown-bar">
                            <div class="breakdown-bar-header">
                                <div class="breakdown-bar-indicator investment"></div>
                                <span class="breakdown-bar-label">Investment</span>
                            </div>
                            <div class="breakdown-bar-track">
                                <div class="breakdown-bar-fill investment" style="width: 43.75%"></div>
                            </div>
                            <div class="breakdown-bar-values">
                                <span class="breakdown-bar-percent">43.8%</span>
                                <span class="breakdown-bar-amount">• $2.1B</span>
                            </div>
                        </div>

                        <div class="breakdown-bar">
                            <div class="breakdown-bar-header">
                                <div class="breakdown-bar-indicator loan"></div>
                                <span class="breakdown-bar-label">Loan</span>
                            </div>
                            <div class="breakdown-bar-track">
                                <div class="breakdown-bar-fill loan" style="width: 25%"></div>
                            </div>
                            <div class="breakdown-bar-values">
                                <span class="breakdown-bar-percent">25.0%</span>
                                <span class="breakdown-bar-amount">• $1.2B</span>
                            </div>
                        </div>

                        <div class="breakdown-bar">
                            <div class="breakdown-bar-header">
                                <div class="breakdown-bar-indicator grant"></div>
                                <span class="breakdown-bar-label">Grant</span>
                            </div>
                            <div class="breakdown-bar-track">
                                <div class="breakdown-bar-fill grant" style="width: 31.25%"></div>
                            </div>
                            <div class="breakdown-bar-values">
                                <span class="breakdown-bar-percent">31.3%</span>
                                <span class="breakdown-bar-amount">• $1.5B</span>
                            </div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-canvas-container">
                            <canvas id="mainChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="chart-legend-bottom">
                    <div class="chart-legend-item">
                        <span class="chart-legend-dot" style="background: #FF6B35;"></span>
                        <span class="chart-legend-text">
                            <span class="chart-legend-label">Investment</span>
                            <span class="chart-legend-value"> 43.2%</span>
                        </span>
                    </div>
                    <div class="chart-legend-item">
                        <span class="chart-legend-dot" style="background: #0e3f45;"></span>
                        <span class="chart-legend-text">
                            <span class="chart-legend-label">Loan</span>
                            <span class="chart-legend-value"> 27.5%</span>
                        </span>
                    </div>
                    <div class="chart-legend-item">
                        <span class="chart-legend-dot" style="background: #6366f1;"></span>
                        <span class="chart-legend-text">
                            <span class="chart-legend-label">Grant</span>
                            <span class="chart-legend-value"> 29.3%</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Investment Table -->
            <div class="card">
                <div class="investment-header">
                    <div class="breakdown-title">
                        <div class="card-dot"></div>
                        <h3 class="card-title">Investment Program List</h3>
                    </div>
                    <select class="filter-select" id="statusFilter">
                        <option value="all">All Status</option>
                        <option value="active">Active</option>
                        <option value="completed">Completed</option>
                        <option value="planned">Planned</option>
                    </select>
                </div>

                <div class="table-scroll-hint">
                    <i class="fas fa-arrows-left-right"></i> Scroll horizontally to see all columns
                </div>

                <div class="table-wrapper">
                    <table class="investment-table">
                        <thead>
                            <tr>
                                <th>Program</th>
                                <th>Source</th>
                                <th>Investment</th>
                                <th>Disbursed</th>
                                <th>Progress</th>
                                <th>ROI</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="investmentTableBody">
                            <tr data-status="active">
                                <td class="program-name-cell">Solar Grid Expansion</td>
                                <td>Federal Budget</td>
                                <td>$543M</td>
                                <td>$412M</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 76%"></div>
                                    </div>
                                </td>
                                <td><span class="roi-value positive">+23.58%</span></td>
                                <td><span class="status-badge active">Active</span></td>
                                <td><button class="action-btn">View</button></td>
                            </tr>
                            <tr data-status="active">
                                <td class="program-name-cell">Wind Farm Development</td>
                                <td>World Bank</td>
                                <td>$434M</td>
                                <td>$380M</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 88%"></div>
                                    </div>
                                </td>
                                <td><span class="roi-value positive">+18.72%</span></td>
                                <td><span class="status-badge active">Active</span></td>
                                <td><button class="action-btn">View</button></td>
                            </tr>
                            <tr data-status="completed">
                                <td class="program-name-cell">Hydro Plant Upgrade</td>
                                <td>AfDB Grant</td>
                                <td>$255M</td>
                                <td>$255M</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 100%"></div>
                                    </div>
                                </td>
                                <td><span class="roi-value positive">+13.89%</span></td>
                                <td><span class="status-badge completed">Completed</span></td>
                                <td><button class="action-btn">View</button></td>
                            </tr>
                            <tr data-status="active">
                                <td class="program-name-cell">Nuclear R&D Initiative</td>
                                <td>Federal Budget</td>
                                <td>$194M</td>
                                <td>$98M</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 50%"></div>
                                    </div>
                                </td>
                                <td><span class="roi-value positive">+10.54%</span></td>
                                <td><span class="status-badge active">Active</span></td>
                                <td><button class="action-btn">View</button></td>
                            </tr>
                            <tr data-status="planned">
                                <td class="program-name-cell">Transmission Expansion</td>
                                <td>Mixed</td>
                                <td>$380M</td>
                                <td>$0</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </td>
                                <td><span class="roi-value">-</span></td>
                                <td><span class="status-badge planned">Planned</span></td>
                                <td><button class="action-btn">View</button></td>
                            </tr>
                            <tr data-status="active">
                                <td class="program-name-cell">Rural Electrification</td>
                                <td>Federal Budget</td>
                                <td>$245M</td>
                                <td>$122M</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 50%"></div>
                                    </div>
                                </td>
                                <td><span class="roi-value positive">+8.2%</span></td>
                                <td><span class="status-badge active">Active</span></td>
                                <td><button class="action-btn">View</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Right Panel -->
        <aside class="right-panel">
            <!-- Top Performing -->
            <div class="card">
                <div class="card-header">
                    <div class="card-dot"></div>
                    <h3 class="card-title">Top Performing Energy Investment</h3>
                </div>

                <table class="performing-table">
                    <thead>
                        <tr>
                            <th>Program</th>
                            <th>ROI</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="program-name">
                                    <span class="program-icon solar"><i class="fas fa-sun"></i></span>
                                    Solar Grid
                                </div>
                            </td>
                            <td>23.58%</td>
                            <td>$543M</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="program-name">
                                    <span class="program-icon wind"><i class="fas fa-wind"></i></span>
                                    Wind Farm
                                </div>
                            </td>
                            <td>18.72%</td>
                            <td>$434M</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="program-name">
                                    <span class="program-icon hydro"><i class="fas fa-water"></i></span>
                                    Hydro Plant
                                </div>
                            </td>
                            <td>13.89%</td>
                            <td>$255M</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="program-name">
                                    <span class="program-icon nuclear"><i class="fas fa-atom"></i></span>
                                    Nuclear R&D
                                </div>
                            </td>
                            <td>10.54%</td>
                            <td>$194M</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="program-name">
                                    <span class="program-icon other"><i class="fas fa-bolt"></i></span>
                                    Other
                                </div>
                            </td>
                            <td>33.98%</td>
                            <td>$625M</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- ROI Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-dot"></div>
                    <h3 class="card-title">Investment ROI Overview</h3>
                </div>

                <div class="roi-metric">
                    <div class="roi-value-large">13.8%</div>
                    <div class="roi-period">Average Annual ROI</div>
                </div>

                <div class="roi-chart">
                    <canvas id="roiChart"></canvas>
                </div>

                <div class="roi-legend">
                    <div class="roi-legend-item">
                        <span class="roi-legend-dot active"></span>
                        Active
                    </div>
                    <div class="roi-legend-item">
                        <span class="roi-legend-dot completed"></span>
                        Completed
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // Chart Data for different time periods
        const chartData = {
            daily: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                data: [45, 52, 38, 65, 58, 42, 55],
                total: '$401M',
                label: 'Daily Fund Flow'
            },
            weekly: {
                labels: ['W1', 'W2', 'W3', 'W4'],
                data: [320, 280, 350, 310],
                total: '$1.26B',
                label: 'Weekly Fund Flow'
            },
            monthly: {
                labels: ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'],
                data: [320, 380, 420, 450, 380, 520, 480, 550, 491, 420, 380, 450],
                total: '$4.8B',
                label: 'Total Annual Budget • +15.2% YoY'
            },
            annually: {
                labels: ['2020', '2021', '2022', '2023', '2024'],
                data: [3200, 3600, 4100, 4400, 4800],
                total: '$4.8B',
                label: '5 Year Performance'
            }
        };

        let mainChart;

        // Initialize Main Chart
        function initMainChart(period = 'monthly') {
            const ctx = document.getElementById('mainChart').getContext('2d');
            const data = chartData[period];

            const gradient = ctx.createLinearGradient(0, 0, 0, 200);
            gradient.addColorStop(0, 'rgba(255, 107, 53, 0.3)');
            gradient.addColorStop(1, 'rgba(255, 107, 53, 0)');

            if (mainChart) {
                mainChart.destroy();
            }

            mainChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: 'Funds',
                        data: data.data,
                        borderColor: '#FF6B35',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        pointHoverBackgroundColor: '#FF6B35',
                        pointHoverBorderColor: '#fff',
                        pointHoverBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { color: '#9ca3af', font: { size: 10 } }
                        },
                        y: {
                            grid: { color: '#f3f4f6' },
                            ticks: {
                                color: '#9ca3af',
                                font: { size: 10 },
                                callback: val => '$' + val + 'M'
                            }
                        }
                    }
                }
            });

            document.getElementById('totalBudget').textContent = data.total;
            document.getElementById('totalLabel').textContent = data.label;
        }

        // Time Filter Click Handler
        document.querySelectorAll('.time-filter').forEach(btn => {
            btn.addEventListener('click', function () {
                document.querySelectorAll('.time-filter').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                initMainChart(this.dataset.period);
            });
        });

        // Status Filter Handler
        document.getElementById('statusFilter').addEventListener('change', function () {
            const status = this.value;
            document.querySelectorAll('#investmentTableBody tr').forEach(row => {
                if (status === 'all' || row.dataset.status === status) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });

        // ROI Bar Chart
        const roiCtx = document.getElementById('roiChart').getContext('2d');
        new Chart(roiCtx, {
            type: 'bar',
            data: {
                labels: ['Q1', 'Q2', 'Q3', 'Q4', 'Q1', 'Q2', 'Q3', 'Q4'],
                datasets: [
                    {
                        label: 'Active',
                        data: [65, 75, 85, 70, 80, 90, 75, 85],
                        backgroundColor: '#FF6B35',
                        borderRadius: 3,
                        barThickness: 12
                    },
                    {
                        label: 'Completed',
                        data: [45, 55, 60, 50, 55, 65, 50, 60],
                        backgroundColor: '#0e3f45',
                        borderRadius: 3,
                        barThickness: 12
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    x: { grid: { display: false }, ticks: { color: '#9ca3af', font: { size: 9 } } },
                    y: { display: false }
                }
            }
        });

        // Mobile Menu Functionality
        const menuToggle = document.getElementById('menuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        const menuOverlay = document.getElementById('menuOverlay');
        const menuClose = document.getElementById('menuClose');

        function openMobileMenu() {
            mobileMenu.classList.add('open');
            menuOverlay.classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closeMobileMenu() {
            mobileMenu.classList.remove('open');
            menuOverlay.classList.remove('open');
            document.body.style.overflow = '';
        }

        menuToggle.addEventListener('click', openMobileMenu);
        menuClose.addEventListener('click', closeMobileMenu);
        menuOverlay.addEventListener('click', closeMobileMenu);

        // Initialize
        initMainChart('monthly');
    </script>
</body>

</html>